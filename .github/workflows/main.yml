name: Stock Monitor 3min Logic

on:
  schedule:
    # 5分おきに実行 (GitHub Actions無料枠の限界頻度)
    # 日本時間 09:00 - 11:15 (UTC 00:00 - 02:15)
    - cron: '*/5 0-2 * * 1-5'
    # 日本時間 12:30 - 14:55 (UTC 03:30 - 05:55)
    - cron: '*/5 3-5 * * 1-5'
  workflow_dispatch:

jobs:
  run-script:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      - name: Install Libs
        run: pip install yfinance pandas requests
      - name: Run Bot
        env:
          TZ: 'Asia/Tokyo'
        run: python main.py
